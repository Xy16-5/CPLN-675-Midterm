---
title: "675_midterm_denver"
author: "Gillian Xuezhu Zhao"
date: "3/17/2021"
output: word_document
---
# Load libraries and setup
```{r setup}
library(tidyverse)
library(sf)
library(RSocrata)
library(viridis)
library(caret)
library(spatstat)
library(spdep)
library(FNN)
library(grid)
library(gridExtra)
library(knitr)
library(kableExtra)
library(plotROC)
library(pROC)
library(raster)

# Gillian's working directory
setwd("G:\\UPenn\\CPLN675_LandUse_and_EnvironmentalModeling\\midterm\\CPLN-675-Midterm")

```

# Calgary
## Create Fishnet Grid
```{r calgary fishnet}
c_boundary <- 
  st_read("calgary/calgary_boundary/CALGIS_CITYBOUND_LIMIT.shp") %>%
  st_transform(crs=3780)

c_fishnet <- 
  st_make_grid(c_boundary, cellsize = 500) %>%
  st_sf() %>%
  st_transform(crs=3780)

c_fishnet <- 
  c_fishnet[c_boundary,] %>%
  mutate(uniqueID = rownames(.)) %>%
  dplyr::select(uniqueID)

ggplot(data=c_fishnet)+
  geom_sf()
```

# Denver
## Create Fishnet Grid
```{r denver fishnet}
d_boundary <- 
  st_read("denver/denver_boundary/county_boundary.shp") %>%
  st_transform(crs=6428) %>%
  dplyr::filter(COUNTY=="Denver")

d_fishnet <- 
  st_make_grid(d_boundary, cellsize = 500) %>%
  st_sf()

d_fishnet <- 
  d_fishnet[d_boundary,] %>%
  mutate(uniqueID = rownames(.)) %>%
  dplyr::select(uniqueID)

ggplot(data=d_fishnet)+
  geom_sf()
```

```{r features}
d_landuse <- st_read("denver\\existing_landuse_2018\\existing_landuse_2018.shp") %>%
  st_transform(crs=6428)

d_basin <- st_read("denver\\denver_basin\\denver_boundary.shp") %>%
  st_transform(crs=6428) #doesn't seem to be useful

d_stream <- st_read("denver\\denver_stream\\denver_stream.shp") %>%
  st_transform(crs=6428)

ggplot(data=d_stream) +
  geom_sf()

```
